<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>排序算法的实现</title>
</head>
<body>
<script>
// 创建列表类
function ArrayList(){
    // 属性
    this.array = [];

    // 方法
    // 将数据可以插入到数组中的方法
    ArrayList.prototype.insert = function(item){
        this.array.push(item);
    }

    // toString
    ArrayList.prototype.toString = function(){
        return this.array.join('-');
    }

    // 实现排序算法
    // 冒泡排序
    ArrayList.prototype.bubbleSort = function(){
        // 获取数组的长度
        var length = this.array.length;

        for(var j = length - 1; j >= 0; j--){
            for(var  i = 0; i < j; i++){
                if(this.array[i] > this.array[i]){
                    this.swap(i, i+1);
                }
            }
        }
    }


    // 选择排序
    ArrayList.prototype.selectionSort = function(){
        // 获取数组的长度
        var length = this.array.length;

        var min = 0;
        for(var i = min+1; i < length; i++){
            if(this.array[min] > this.array[i]){
                min = i;
            }
        }
        this.swap(min, i);
    }

    // 插入排序
    ArrayList.prototype.insertionSort = function(){
        // 获取数组长度
        var length = this.array.length;

        // 外层循环：从第一个位置开始获取数据，向前面局部有序进行插入
        for(var i = 1; i < length; i++){
            // 内层循环：获取i位置的元素，和前面的数据进行比较
            var temp = this.array[i];
            var j = i;
            while(this.array[j-1] > temp && j > 0){
                this.array[j] = this.array[j-1];
                j--;
            }
            // 将j位置的数据，放置temp就可以了
            this.array[j] = temp;
        }
    }

    // 希尔排序
    ArrayList.prototype.shellSort = function(){
        // 获取数组长度
        var length = this.array.length;

        // 初始化增量
        var gap = Math.floor(length/2);

        // 让gap不断减小
        while(gap >= 1){
            // 以gap作为间隔进行分组，对分组进行插入排序
            for(var i = gap; i < length; i++){
                var temp = this.array[i];
                var j = i;
                while(this.array[j-gap] > temp && j > gap-1){
                    this.array[j] = this.array[j-gap];
                    j -= gap;
                }
            }

            // 将j位置的元素赋值temp
            this.array[j] = temp;
        }
    }

    // 快速排序
    // 选择枢纽
    ArrayList.prototype.middle = function(left,right){
        // 取出中间的位置
        var center = Math.floor((left + right) / 2);

        // 判断大小，并且进行交换
        if(this.array[left] > this.array[center]){
            this.swap(left,center);
        }
        if(this.array[center] > this.array[right]){
            this.swap(center,right);
        }
        if(this.array[left] > this.array[right]){
            this.swap(left,right);
        }

        // 将center换到right - 1的位置
        this.swap(center,right-1);

        return this.array[right-1];
    }

    // 快速排序的实现
    ArrayList.prototype.quickSort = function(){
        this.quick(0,this.array.length - 1);
    }

    ArrayList.prototype.quick = function(left,right){
        // 结束条件
        if(left >= right) return;

        // 获取枢纽
        var pivot = this.middle(left,right);

        // 定义变量
        var i = left;
        var j = right;

        // 交换
        while(true){
            while(this.array[++i] < privot){
            }
            while(this.array[--j] > pivot){
            }
            if(i < j){
                this.swap(i,j);
            }else{
                break;
            }
        }
        // 将枢纽放置在正确的位置
        this.swap(i,right-1);

        // 分而治之
        this.quick(left,i-1);
        this.quick(i+1,right);

    }

}

// 测试类
var list = new ArrayList();

// 插入元素
list.insert(66)
list.insert(88)
list.insert(12)
list.insert(87)
list.insert(100)
list.insert(5)
list.insert(566)
list.insert(23)


</script>
</body>
</html>